<UserControl x:Class="PSForge.UI.Controls.CredentialInputControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:helpers="clr-namespace:PSForge.UI.Helpers">

    <!-- ================================================================
         CredentialInputControl
         Composite control for PSCredential parameters: username TextBox
         plus SecureString PasswordBox. The code-behind constructs a
         PSCredential object from these two fields and stores it in
         the ParameterValueViewModel.Value property.
         
         DataContext: ParameterValueViewModel
         ================================================================ -->

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Username -->
        <TextBlock Grid.Row="0" Grid.Column="0"
                   Text="Username:"
                   Style="{StaticResource SecondaryTextStyle}"
                   VerticalAlignment="Center"
                   Margin="0,0,8,4"/>
        <TextBox Grid.Row="0" Grid.Column="1"
                 x:Name="UsernameBox"
                 Style="{StaticResource FormTextBoxStyle}"
                 Margin="0,0,0,4"
                 TextChanged="OnCredentialChanged"
                 ToolTip="Enter the username (e.g., user@domain.com)"/>

        <!-- Password -->
        <TextBlock Grid.Row="1" Grid.Column="0"
                   Text="Password:"
                   Style="{StaticResource SecondaryTextStyle}"
                   VerticalAlignment="Center"
                   Margin="0,0,8,0"/>
        <PasswordBox Grid.Row="1" Grid.Column="1"
                     x:Name="PasswordBox"
                     PasswordChanged="OnCredentialChanged"
                     ToolTip="Enter the password (stored as SecureString)"/>
    </Grid>
</UserControl>
